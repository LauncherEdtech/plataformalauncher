/* ====================================
   BASE - Esconder em Desktop
   ==================================== */
.bottom-nav {
    display: none;
}

/* ====================================
   MOBILE - Ativar Bottom Nav (8 ITENS COM SCROLL)
   ==================================== */
@media (max-width: 768px) {
    
    /* Variáveis CSS para controlar opacidade dinamicamente via JS */
    .bottom-nav {
        --fade-left-opacity: 0;
        --fade-right-opacity: 1;
    }
    
    /* Container Principal da Bottom Nav */
    .bottom-nav {
        display: flex;
        justify-content: flex-start;
        align-items: center;
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        height: 70px;
        background: linear-gradient(180deg, rgba(13, 17, 23, 0.95) 0%, rgba(0, 0, 0, 0.98) 100%);
        backdrop-filter: blur(10px);
        -webkit-backdrop-filter: blur(10px);
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 -2px 20px rgba(0, 0, 0, 0.3);
        z-index: 1000;
        padding: 0 5px;
        animation: slideUpNav 0.3s ease-out;
        overflow-x: auto;
        overflow-y: hidden;
        -webkit-overflow-scrolling: touch;
    }

    /* Esconder scrollbar mas manter funcionalidade */
    .bottom-nav::-webkit-scrollbar {
        display: none;
    }
    
    .bottom-nav {
        -ms-overflow-style: none;
        scrollbar-width: none;
    }

    /* ====================================
       INDICADORES DE SCROLL - GRADIENTES SUTIS
       ==================================== */
    
    /* Gradiente fade DIREITA (indica mais conteúdo) */
    .bottom-nav::after {
        content: '›';
        position: absolute;
        top: 0;
        right: 0;
        width: 45px;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.3rem; /* Menor que 2rem */
        font-weight: 400; /* Normal ao invés de bold */
        color: rgba(255, 255, 255, 0.5); /* Mais transparente */
        background: linear-gradient(90deg, 
            rgba(0, 0, 0, 0) 0%, 
            rgba(0, 0, 0, 0.85) 30%);
        pointer-events: none;
        z-index: 10;
        opacity: var(--fade-right-opacity);
        transition: opacity 0.3s ease;
    }

    /* Animação mais sutil */
    @keyframes pulseRight {
        0%, 100% {
            opacity: calc(var(--fade-right-opacity) * 0.5);
        }
        50% {
            opacity: var(--fade-right-opacity);
        }
    }

    /* Gradiente fade ESQUERDA (aparece ao scrollar) */
    .bottom-nav::before {
        content: '‹';
        position: absolute;
        top: 0;
        left: 0;
        width: 45px;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.3rem; /* Menor que 2rem */
        font-weight: 400; /* Normal ao invés de bold */
        color: rgba(255, 255, 255, 0.5); /* Mais transparente */
        background: linear-gradient(90deg, 
            rgba(0, 0, 0, 0.85) 70%, 
            rgba(0, 0, 0, 0) 100%);
        pointer-events: none;
        z-index: 10;
        opacity: var(--fade-left-opacity);
        transition: opacity 0.3s ease;
    }

    /* Animação de entrada */
    @keyframes slideUpNav {
        from {
            transform: translateY(100%);
            opacity: 0;
        }
        to {
            transform: translateY(0);
            opacity: 1;
        }
    }

    /* ====================================
       ITEM DA BOTTOM NAV (8 ITENS COM LARGURA FIXA)
       ==================================== */
    .bottom-nav-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        flex: 0 0 auto; /* Não crescer/encolher, largura fixa */
        min-width: 75px; /* Largura mínima para cada item */
        padding: 8px 10px;
        color: rgba(255, 255, 255, 0.6);
        text-decoration: none;
        font-size: 0.65rem;
        font-weight: 500;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        border-radius: 12px;
        position: relative;
        -webkit-tap-highlight-color: transparent;
    }

    /* Ícone do Item */
    .bottom-nav-item i {
        font-size: 1.3rem; /* Ligeiramente menor para caber 8 itens */
        margin-bottom: 3px;
        transition: all 0.3s ease;
    }

    /* Label do Item */
    .bottom-nav-item span {
        font-size: 0.65rem;
        transition: all 0.3s ease;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 70px;
        text-align: center;
    }

    /* ====================================
       ESTADO ATIVO
       ==================================== */
    .bottom-nav-item.active {
        color: #007bff;
        background: rgba(0, 123, 255, 0.1);
    }

    /* Ícone do item ativo - slight scale */
    .bottom-nav-item.active i {
        transform: scale(1.1);
        color: #007bff;
    }

    /* Indicador superior (barrinha azul) */
    .bottom-nav-item.active::before {
        content: '';
        position: absolute;
        top: -1px;
        left: 50%;
        transform: translateX(-50%);
        width: 30px;
        height: 3px;
        background: linear-gradient(90deg, #007bff, #00b4d8);
        border-radius: 0 0 3px 3px;
        animation: expandBar 0.3s ease-out;
    }

    @keyframes expandBar {
        from {
            width: 0;
        }
        to {
            width: 30px;
        }
    }

    /* ====================================
       HOVER / ACTIVE EFFECTS
       ==================================== */
    
    /* Touch feedback */
    .bottom-nav-item:active {
        transform: scale(0.95);
        background: rgba(255, 255, 255, 0.05);
    }

    /* Ripple effect (opcional - pode remover se não gostar) */
    .bottom-nav-item::after {
        content: '';
        position: absolute;
        width: 100%;
        height: 100%;
        border-radius: 12px;
        background: rgba(255, 255, 255, 0.1);
        transform: scale(0);
        transition: transform 0.4s;
    }

    .bottom-nav-item:active::after {
        transform: scale(1);
        transition: 0s;
    }

    /* ====================================
       AJUSTES NO LAYOUT MOBILE
       ==================================== */
    
    /* Padding no body para compensar bottom nav */
    body {
        padding-bottom: 80px; /* Ajustado para 70px + 10px */
    }

    /* Ajustar footer */
    footer {
        margin-bottom: 0;
        padding-bottom: 10px;
    }

    /* Container principal */
    main.container {
        min-height: calc(100vh - 150px); /* Ajustado */
        padding-bottom: 20px;
    }

    /* ====================================
       NAVBAR SUPERIOR - MOBILE SIMPLIFICADA
       ==================================== */
    
    /* Garantir que navbar mantém estrutura */
    .navbar {
        padding: 0.5rem 0 !important;
    }

    .navbar .container-fluid {
        display: flex !important;
        justify-content: space-between !important;
        align-items: center !important;
        padding: 0.5rem 1rem !important;
    }

    /* LOGO - Manter visível e maior */
    .navbar-brand {
        display: flex !important;
        margin-right: auto !important;
        margin-bottom: 0 !important;
    }

    .navbar-brand img {
        height: 35px !important;
        display: block !important;
    }

    /* ESCONDER: Menu de navegação */
    .navbar-nav {
        display: none !important;
    }

    /* ESCONDER: Botão hamburger */
    .navbar-toggler {
        display: none !important;
    }

    /* ESCONDER: Ícones (sino, lupa) - mas NÃO os badges */
    .navbar .d-flex.align-items-center.gap-3 > a[href="#"] {
        display: none !important;
    }

    .navbar .d-flex.align-items-center.gap-3 > .text-white {
        display: none !important;
    }

    /* ESCONDER: Avatar dropdown */
    .navbar .avatar-container {
        display: none !important;
    }

    /* MANTER VISÍVEL: Container dos badges */
    .navbar .d-flex.align-items-center.gap-3 {
        display: flex !important;
        margin-left: auto !important;
    }

    /* MANTER VISÍVEL: Badges XP e Moedas */
    .currency-badges {
        display: flex !important;
        flex-direction: row !important;
        gap: 0.5rem !important;
        align-items: center !important;
    }

    .xp-badge, .diamond-badge {
        display: flex !important;
        font-size: 0.85rem !important;
        padding: 0.45rem 0.7rem !important;
    }

    .xp-badge i, .diamond-badge i {
        font-size: 1rem !important;
    }

    /* ====================================
       BADGE DE NOTIFICAÇÕES (OPCIONAL)
       ==================================== */
    
    /* Adicionar este HTML no item que quer notificação:
       <span class="badge-notification">3</span>
    */
    .badge-notification {
        position: absolute;
        top: 5px;
        right: 15px;
        background: linear-gradient(135deg, #ff4444, #cc0000);
        color: white;
        font-size: 0.65rem;
        font-weight: 700;
        padding: 2px 5px;
        border-radius: 10px;
        min-width: 18px;
        height: 18px;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 8px rgba(255, 68, 68, 0.4);
        animation: pulse 2s infinite;
    }

    @keyframes pulse {
        0%, 100% {
            transform: scale(1);
        }
        50% {
            transform: scale(1.1);
        }
    }
}

/* ====================================
   TELAS MUITO PEQUENAS (< 360px)
   ==================================== */
@media (max-width: 360px) {
    .bottom-nav-item span {
        font-size: 0.65rem;
    }
    
    .bottom-nav-item i {
        font-size: 1.2rem;
    }

    .bottom-nav {
        height: 60px;
    }

    body {
        padding-bottom: 70px;
    }
}

/* ====================================
   LANDSCAPE MODE (MOBILE HORIZONTAL)
   ==================================== */
@media (max-width: 768px) and (orientation: landscape) {
    .bottom-nav {
        height: 55px;
    }

    .bottom-nav-item i {
        font-size: 1.2rem;
        margin-bottom: 0;
    }

    .bottom-nav-item span {
        font-size: 0.65rem;
    }

    body {
        padding-bottom: 65px;
    }
}

/* ====================================
   SAFE AREA (iPhone com notch)
   ==================================== */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
    @media (max-width: 768px) {
        .bottom-nav {
            padding-bottom: env(safe-area-inset-bottom);
            height: calc(65px + env(safe-area-inset-bottom));
        }

        body {
            padding-bottom: calc(75px + env(safe-area-inset-bottom));
        }
    }
}

/* ====================================
   DARK MODE (Opcional)
   ==================================== */
@media (prefers-color-scheme: dark) {
    .bottom-nav {
        background: linear-gradient(180deg, rgba(0, 0, 0, 0.98) 0%, rgba(0, 0, 0, 1) 100%);
        border-top: 1px solid rgba(255, 255, 255, 0.15);
    }
}

/* ====================================
   VARIANTES DE CORES (Comentadas)
   Descomente uma das opções abaixo para mudar o tema
   ==================================== */

/* Variante 1: Roxo/Rosa (Estilo Instagram) */
/*
.bottom-nav-item.active {
    color: #e91e63;
    background: rgba(233, 30, 99, 0.1);
}

.bottom-nav-item.active::before {
    background: linear-gradient(90deg, #e91e63, #9c27b0);
}
*/

/* Variante 2: Verde/Teal (Estilo WhatsApp) */
/*
.bottom-nav-item.active {
    color: #25d366;
    background: rgba(37, 211, 102, 0.1);
}

.bottom-nav-item.active::before {
    background: linear-gradient(90deg, #25d366, #128c7e);
}
*/

/* Variante 3: Laranja/Amarelo (Estilo Launcher) */
/*
.bottom-nav-item.active {
    color: #ffc107;
    background: rgba(255, 193, 7, 0.1);
}

.bottom-nav-item.active::before {
    background: linear-gradient(90deg, #ffc107, #fd7e14);
}
*/

/* ====================================
   FIM DO ARQUIVO
   ==================================== */
